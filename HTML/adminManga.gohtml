<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
  <title>Noname site</title>
    <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      padding: 5px;
      text-align: left;
    }
    form{
      padding: 10px;
    }
  </style>
</head>
  <body>
    <div class="Content">
      <div>
        <table>
          <thead>
            <th>Name</th>
            <th>Url</th>
            <th>Size</th>
            <th>SrcUrl</th>
            <th>AddDate</th>
            <th>UpdDate</th>
          </thead>
          <tbody>
            <tr>
              <td>{{.Name}}</td>
              <td>{{.Url}}</td>
              <td>{{.Size}}</td>
              <td>{{.SrcUrl}}</td>
              <td>{{.AddDate}}</td>
              <td>{{.UpdDate}}</td>
            </tr>
          </tbody>
        </table>
        <a href="/manga/{{.Url}}">{{.Name}}</a>
        <div>
          <form method="POST" enctype="multipart/form-data">
            <input type="text" name="action" value="update" hidden>
            <input type="submit" value="Update" formAction="/api/manga/{{.Url}}">
          </form>
          <form method="POST" enctype="multipart/form-data">
            <input type="text" name="action" value="remove" hidden>
            <input type="submit" value="Delete" formAction="/api/manga/{{.Url}}">
          </form>
          <form method="POST" enctype="multipart/form-data">
            <input type="text" name="action" value="changeName" hidden>
            <input type="text" name="name" placeholder="{{.Name}}" onclick="this.value='{{.Name}}'">
            <input type="submit" value="Change name" formAction="/api/manga/{{.Url}}">
          </form>
          <form method="POST" enctype="multipart/form-data">
            <input type="text" name="action" value="addTitle" hidden>
            <input type="file" name="file">
            <input type="submit" value="Add title" formAction="/api/manga/{{.Url}}">
          </form>
        </div>
        <table>
          <thead>
            <th>Name</th>
            <th>Actions</th>
          </thead>
          <tbody>
            {{range $title := .Titles}}
            <tr>
              <td>{{$title}}</td>
              <td>
                <form method="POST" enctype="multipart/form-data">
                  <input type="text" name="action" value="remTitle" hidden>
                  <input type="text" name="fileName" value="{{$title}}" hidden>
                  <input type="submit" value="Delete title" formAction="/api/manga/{{$.Url}}">
                </form>
              </td>
            </tr>            
            {{end}}
          </tbody>
        </table>
        <table>
          <thead>
            <th>Chapter number</th>
            <th>Chapter name</th>
            <th>Actions</th>
          </thead>
          <tbody>
            {{range $chapter := .Chapters}}
            <tr>
              <td>{{$chapter.Number}}</td>
              <td>{{$chapter.Name}}</td>
              <td>
                <form method="POST" enctype="multipart/form-data">
                  <input type="text" name="action" value="changeName" hidden>
                  <input type="text" name="fileName" placeholder="{{$chapter.Name}}" onclick="this.value='{{$chapter.Name}}'">
                  <input type="submit" value="Change Name" formAction="/api/manga/{{$.Url}}/{{$chapter.Number}}">
                </form>
                <form method="POST" enctype="multipart/form-data">
                  <input type="text" name="action" value="remove" hidden>
                  <input type="submit" value="Delete Chapter" formAction="/api/manga/{{$.Url}}/{{$chapter.Number}}">
                </form>                
              </td>
            </tr>
            {{end}}
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
